{
  "hash": "c60ae224b6c0d339782e262f3fd59dd6",
  "result": {
    "engine": "knitr",
    "markdown": "# Introduction\n\nR is probably best used for cleaning and analyzing spatial data. Making good quality maps, however, takes a different set of skills.\n\n\n## Data Set\n\nIf you haven't already, download the [workshop data](https://ucdavis.box.com/s/ozobvtvehgmsnfrizwb2darqfsoqmmgq) from the online repository. If you downloaded a .zip file, unzip the data to a folder you can easily find.\n\nThe data we have to work with today is:\n\n * **Lake Monsters** - LakeMonsters.gpkg - locations of lake monsters; global distribution\n * **Lakes** - Lakes_GreatLakes-Area.gpkg - a clip of the Natural Earth Data lakes dataset for the Great Lakes and areas adjacent\n * **States** - US_CAN_Admin1.gpkg - a clip of the Natural Earth Data states and provinces data for the US and Canada (I'm going to refer to these as \"states\" for simplicity, but I want to acknowledge that this includes Canadian provinces as well.)\n\nGeopackage (.gpkg) is a single file, open vector format. We're using it today because it's one file per dataset (unlike Shapefile), which makes data management so much easier. See the README.txt file that comes with the data download for more details and sources of the data.\n\n### Data Processing\nWe'll be working with an international dataset of locations of lake monsters, the most famous of which is arguably Nessie who supposedly lives in Loch Ness in Scotland. This dataset was assembled from Wikipedia's List of Lake Monsters. The lake names were geocoded (you can find the R script that I wrote to process the data in the r_scripts folder of [this repo](https://github.com/MicheleTobias/Workshop-Cartography-Journal-Figures), corrected, then exported to a geopackage file. Why did I process this data for you? It took a few hours to do and requires skills we are not focusing on in this workshop.\n\n### Recommended File Structure\n\nThis is the folder structure this workshop will assume you have:\n\n:::{.callout-note}\n##### Directory Structure\n\n**workshop_maps_in_r**/\n\n└── **data**/\n\t     └── dem.tif\n     \n\t     └── LakeMonsters.gpkg\n     \n\t     └── Lakes_GreatLakes-Area.gpkg\t \n     \n\t     └── README.txt\n     \n\t     └── US_CAN_Admin1.gpkg\t \n\n└── **output**/\n:::\n\n## Map Details\n\nLet's pretend we want to a map for a journal article about the underpinnings of the distribution of cryptozoology sightings in the northeastern US and southeastern Canada, focusing on lake monsters, creatures reported to live in lakes that are mainly known from folklore and typically take on the the shape of extinct or extraordinarlily large living reptiles. You want your readers to understand the relationship between the monster locations and also their location on the planet. In our imaginary scenario, we plan to submit our paper to one of the Nature journals.\n\nWhat's the story? What should readers learn from this map? What data do you need to tell that story effectively?\n\nThe story I plan to tell is: where are these monsters reported to live in the US Great Lakes area? What are their names? For reference, what lakes and states or provinces are they in? The story you want to tell might be different, so feel free to make adjustments as needed.\n\n\n\n## Load Spatial Data\n\nOpen RStudio and create a new script file. Save it in your folder for this workshop.\n\nSet your working directory to your workshop folder\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\t# set your working directory\n\t\n\tsetwd(\"path/to/your/workshop/folder/workshop_maps_in_r\")\n```\n:::\n\n\nLoad the libraries that we will need. If you have not installed these packages yet, you can do so with the command `install.packages(\"PackageName\")`\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\t# load libraries\n\t\n\tlibrary(sf)   \t# for working with vector spatial data\n\tlibrary(terra)\t# for working with raster spatial data\n```\n:::\n\n\nLet's load the data we'll need.\n\n\n::: {.cell ouput='false'}\n\n```{.r .cell-code}\n\t# read spatial data\n\t\n\tmonsters <- st_read(\"data/LakeMonsters.gpkg\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `LakeMonsters' from data source \n  `C:\\Users\\mmtobias\\Documents\\GitHub\\workshop_maps_in_R\\data\\LakeMonsters.gpkg' \n  using driver `GPKG'\nSimple feature collection with 55 features and 9 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -123.4696 ymin: -41.00612 xmax: 144.3105 ymax: 65.35767\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n\tlakes <- st_read(\"data/Lakes_GreatLakes-Area.gpkg\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `Lakes_GreatLakes-Area' from data source \n  `C:\\Users\\mmtobias\\Documents\\GitHub\\workshop_maps_in_R\\data\\Lakes_GreatLakes-Area.gpkg' \n  using driver `GPKG'\nSimple feature collection with 110 features and 10 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -101.2215 ymin: 35.93167 xmax: -64.94982 ymax: 54.41538\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n\tstates <- st_read(\"data/US_CAN_Admin1.gpkg\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `US_CAN_Admin1' from data source \n  `C:\\Users\\mmtobias\\Documents\\GitHub\\workshop_maps_in_R\\data\\US_CAN_Admin1.gpkg' \n  using driver `GPKG'\nSimple feature collection with 64 features and 83 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -178.1945 ymin: 18.96391 xmax: -52.65365 ymax: 83.11611\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n\n```{.r .cell-code}\n\tdem <- rast(\"data/dem.tif\")\n```\n:::\n\n\n",
    "supporting": [
      "Introduction_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}